"use strict";angular.module("GITALO",["ui.router","ngAnimate","ui.bootstrap","firebase","ngLoadingSpinner","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("Repositories",{url:"/",cache:!1,templateUrl:"partials/pages/Repositories.html",controller:"ReposCtrl as repos",resolve:{getAllRepos:["ReposService",function(e){return e.getAllRepos()}]}}).state("reposDetails",{url:"/developers/:username/:repos",cache:!1,templateUrl:"partials/pages/ReposDetails.html",controller:"ReposDetailsCtrl as rd",resolve:{getRepositorie:["$stateParams","ReposService",function(e,t){return t.getRepos(e.username,e.repos)}],getReposContributors:["$stateParams","ReposService",function(e,t){return t.getReposContributors(e.username,e.repos)}]}}).state("organisations",{url:"/organisations",templateUrl:"partials/pages/Organisations.html",controller:"OrganisationsCtrl as org",resolve:{getOrganisations:["$stateParams","OrganisationService",function(e,t){return t.getOrganisations()}]}}).state("organisationDetails",{url:"/organisationDetails/:username",cache:!1,templateUrl:"partials/pages/OrganisationDetails.html",controller:"OrganisationDetailsCtrl as orgDetails",resolve:{getOrganisation:["$stateParams","OrganisationService",function(e,t){return t.getOrganisation(e.username)}],getOrganisationRepos:["$stateParams","OrganisationService",function(e,t){return t.getOrganisationRepos(e.username)}],getOrganisationMembers:["$stateParams","OrganisationService",function(e,t){return t.getOrganisationMembers(e.username)}]}}).state("tags",{url:"/tags",cache:!1,templateUrl:"partials/pages/Tags.html",controller:"TagsCtrl"}).state("developers",{url:"/developers",cache:!1,templateUrl:"partials/pages/Developers.html",controller:"DevelopersCtrl as dd"}).state("developerDetails",{url:"/developers/:username",cache:!1,templateUrl:"partials/pages/DeveloperDetails.html",controller:"DeveloperDetailsCtrl as DD",resolve:{getRepositories:["$stateParams","DeveloperService",function(e,t){return t.getUserRepositories(e.username)}],getUser:["$stateParams","DeveloperService",function(e,t){return t.getUser(e.username)}],getOrganisations:["$stateParams","DeveloperService",function(e,t){return t.getUserOrganisations(e.username)}]}}).state("Profile",{url:"/Profile",cache:!1,templateUrl:"partials/pages/Profile.html",controller:"ProfileCtrl"})}]).constant("FireBaseUrl","https://gitalo.firebaseio.com/").run(["$rootScope","DeveloperService","Auth",function(e,t,o){o.$onAuth(function(t){t?e.authenticated=!0:e.authenticated=!1}),t.getloggedInUser()&&(e.loggedInUser=t.getloggedInUser())}]),angular.module("GITALO").controller("DeveloperDetailsCtrl",["$scope","$q","DeveloperService","$stateParams","getRepositories","getUser","getOrganisations","$timeout","ReposService",function(e,t,o,a,n,r,i,s,l){this.loading=!0,e.searchText="",this.orderBy=function(t){e.myOrderBy=t},s(function(){e.loading=!1},500),this.User=r.data,this.User.repos=n.data,this.User.organisations=i.data,e.$watch("searchText",function(t){t&&(e.loading=!0,l.SearchByWord(t).then(function(t){e.Repos=t.data.items,e.numberofRepos=t.data.total_count,e.loading=!1}).catch(function(e){console.log("err"+e)}))})}]),angular.module("GITALO").controller("DevelopersCtrl",["$scope","$q","DeveloperService",function(e,t,o){function a(){e.$watch("page",function(){var a=o.getUsers(e.page);n.loading=!0,a.then(function(e){n.total_count=e.data.total_count,n.developers=e.data.items,n.loading=!1;var a=[];for(r=0;r<=7;r++){var i=o.getUser(n.developers[r].login);a.push(i)}t.all([a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]]).then(function(e){n.developers=e})},function(e){console.log("err"+e)})})}var n=this;n.developers=[],n.filteredTodos=[],n.currentPage=1,n.numPerPage=8,n.maxSize=5,e.page=1,n.click=function(){e.page++},n.decrement=function(){e.page--};var r=0;a(),n.follow=function(){}}]),angular.module("GITALO").controller("NavbarCtrl",["$scope","Auth","$rootScope",function(e,t,o){e.login=function(){t.$authWithOAuthPopup("github").then(function(t){e.$emit("$auth:authenticated")}).catch(function(e){console.log("Authentication failed:",e)})},e.logout=function(){t.$unauth(),e.$emit("$auth:unauthenticated")}}]),angular.module("GITALO").controller("OrganisationDetailsCtrl",["$scope","$timeout","getOrganisation","getOrganisationRepos","getOrganisationMembers",function(e,t,o,a,n){var r=this;r.loading=!0,r.organisation=o.data,r.OrganisationRepos=a.data,r.OrganisationMembers=n.data,t(function(){r.loading=!1},500)}]),angular.module("GITALO").controller("OrganisationsCtrl",["$scope","OrganisationService","getOrganisations","$q","$timeout",function(e,t,o,a,n){function r(){e.$watch("page",function(){var o=t.getOrganisations(e.page);i.loading=!0,o.then(function(e){i.organisations=e.data.items,i.loading=!1;for(var o=0;o<=7;o++){var n=t.getOrganisation(i.organisations[o].login);s.push(n)}a.all([s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[6],s[7]]).then(function(e){i.organisations=e,s=[]})},function(e){console.log("err"+e)})})}var i=this;i.loading=!0,i.orgs=[],i.organisations=[];var s=[];e.page=1,i.click=function(){e.page++},i.decrement=function(){e.page--},r()}]),angular.module("GITALO").controller("ProfileCtrl",["$scope","Auth",function(e,t){e.User=t.$getAuth(),console.log("User"+JSON.stringify(e.User)),console.log("token"+JSON.stringify(e.User.github))}]),angular.module("GITALO").controller("ReposDetailsCtrl",["$scope","getRepositorie","getReposContributors",function(e,t,o){var a=this;a.Repo=t.data,a.Repo.contributors=o.data}]),angular.module("GITALO").controller("ReposCtrl",["$scope","getAllRepos","cfpLoadingBar","$timeout","ReposService",function(e,t,o,a,n){function r(){e.$watch("page",function(){var t=n.getAllRepos(e.page);i.loading=!0,t.then(function(e){i.numberofRepos=e.data.total_count,i.Repos=e.data.items,i.numberPagination=e.data.total_count/8,i.loading=!1},function(e){console.log("err"+e)})})}var i=this;e.page=1,i.numberPagination=0,i.orderBy=function(e){i.myOrderBy=e},e.$watch("searchText",function(e){e&&(i.loading=!0,n.SearchByWord(e).then(function(e){i.Repos=e.data.items,i.numberofRepos=e.data.total_count,i.loading=!1}).catch(function(e){console.log("err"+e)}))}),i.orderReposBylanguage=function(e){i.loading=!0,n.orderReposBylanguage(e).then(function(e){i.Repos=e.data.items,i.loading=!1,i.numberofRepos=e.data.total_count}).catch(function(e){console.log("err"+JSON.stringify(e))})},i.click=function(){i.page++,i.loading=!0},i.decrement=function(){i.loading=!0,i.page--,console.log("clicked ")},r()}]),angular.module("GITALO").controller("TagsCtrl",["$scope","TagsService",function(e,t){e.loading=!0,e.popularTools=[],t.getListTags().then(function(t){e.Tags=t.data.items,e.loading=!1}).catch(function(e){console.log("deeee"+e)}),t.getPopularTools().then(function(t){e.popularTools=t.data}).catch(function(e){console.log("err"+e)})}]);